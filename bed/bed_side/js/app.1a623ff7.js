(function(e){function t(t){for(var a,o,s=t[0],r=t[1],d=t[2],u=0,l=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&l.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);p&&p(t);while(l.length)l.shift()();return c.push.apply(c,d||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},i={app:0},c=[];function s(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-0e3dee9c":"57371dbf","chunk-0f247a4c":"673a788a","chunk-1c0d02c7":"c6f3bb07","chunk-1ff9a19a":"601d39ab","chunk-2324c114":"8588bc59","chunk-2a88e9ab":"4c47f568","chunk-2e0d11b2":"15ef685a","chunk-40db7d65":"cb077868","chunk-4e5dba8a":"e1725444","chunk-5ec70fb6":"05a3703d","chunk-644a1642":"1a55fb68","chunk-64dbb4d0":"a5d1771e","chunk-652a23e4":"06d73678","chunk-656217f7":"7af10fcc","chunk-721a968c":"4efa15d1","chunk-770207a6":"de051421","chunk-8eda1342":"bf1e1cab","chunk-aaab2e9e":"b9a6900d","chunk-2444b5ec":"3c976490","chunk-af55db28":"0a60d044","chunk-b57fce22":"3d683549","chunk-c40900bc":"6a527fcd","chunk-f4334176":"7a36cce0"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n={"chunk-0e3dee9c":1,"chunk-0f247a4c":1,"chunk-1ff9a19a":1,"chunk-2324c114":1,"chunk-2e0d11b2":1,"chunk-40db7d65":1,"chunk-4e5dba8a":1,"chunk-5ec70fb6":1,"chunk-644a1642":1,"chunk-64dbb4d0":1,"chunk-652a23e4":1,"chunk-656217f7":1,"chunk-721a968c":1,"chunk-770207a6":1,"chunk-8eda1342":1,"chunk-2444b5ec":1,"chunk-af55db28":1,"chunk-b57fce22":1,"chunk-c40900bc":1,"chunk-f4334176":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-0e3dee9c":"badbf4a4","chunk-0f247a4c":"783a29a0","chunk-1c0d02c7":"31d6cfe0","chunk-1ff9a19a":"a1208560","chunk-2324c114":"3256e005","chunk-2a88e9ab":"31d6cfe0","chunk-2e0d11b2":"d39fd986","chunk-40db7d65":"5c90278f","chunk-4e5dba8a":"ae46079e","chunk-5ec70fb6":"e6cf6833","chunk-644a1642":"7eddf390","chunk-64dbb4d0":"568931cf","chunk-652a23e4":"d7fbb754","chunk-656217f7":"61245041","chunk-721a968c":"258fdf1d","chunk-770207a6":"9287c6e4","chunk-8eda1342":"3b4fee76","chunk-aaab2e9e":"31d6cfe0","chunk-2444b5ec":"d4314dab","chunk-af55db28":"f8efb8a9","chunk-b57fce22":"060573f2","chunk-c40900bc":"c3138dc3","chunk-f4334176":"80f2deae"}[e]+".css",i=r.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var d=c[s],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===a||u===i))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){d=l[s],u=d.getAttribute("data-href");if(u===a||u===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||i,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete o[e],p.parentNode.removeChild(p),n(c)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){o[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=c);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=s(e);var l=new Error;d=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}i[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var p=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"0c50":function(e,t,n){e.exports=n.p+"img/loading_icon.01c07eb3.png"},"3b58":function(e,t,n){"use strict";var a=n("efe0"),o=n.n(a);o.a},4360:function(e,t,n){"use strict";n("b0c0");var a=n("2f62"),o=n("2b0e"),i=(n("c740"),n("13d5"),n("a434"),n("a9e3"),n("ade3")),c=n("5530"),s={state:{selectedType:0,list:{}},mutations:{getMsgs:function(e,t){e.list=Object(c["a"])({},e.list,Object(i["a"])({},t.type,Object(c["a"])({},e.list[t.type],{noUpdate:!0,list:t.list})))},setMsg:function(e,t){var n=e.list[e.selectedType].list.findIndex((function(e){return e.fileId===t.fileId}));e.list[e.selectedType].list.splice(n,1,t.message)},changeType:function(e,t){e.selectedType=t},setUnread:function(e,t){e.list[t.msgType]=Object(c["a"])({},e.list[t.msgType],{unread:t.unread,time:t.msgTime})},initiateMsg:function(e,t){e.list=t.reduce((function(e,t){return Object(c["a"])({},e,Object(i["a"])({},t.msgTypeCode,{name:t.msgType,id:t.msgTypeId,time:t.newMsgTime,unread:t.noReadCount,noUpdate:!1,list:[]}))}),{})}},getters:{currentMsg:function(e){return e.list[e.selectedType]}},actions:{switchType:function(e,t){var n=e.commit,a=e.state;console.log({commit:n,state:a},t),a.list[t].noUpdate||o["default"].prototype.api.post("message/getMsgList",{msgTypeId:a.list[t].id}).then((function(e){1===e.data.code&&(17===Number(a.list[t].id)&&o["default"].prototype.api.post("message/changeReadStatus",{msgId:17,fileId:17,recordId:17}).then((function(e){1===e.data.code&&n("setUnread",{msgType:t,unread:0,msgTime:new Date})})),n("getMsgs",{type:t,list:e.data.data.msgList}))})),n("changeType",t)},recieveNewMsg:function(e,t){var n=e.commit,a=e.state;n("setUnread",{msgType:t,unread:Number(a.list[t].unread)+1,msgTime:new Date}),t===a.selectedType?o["default"].prototype.api.post("message/getMsgList",{msgTypeId:a.list[t].id}).then((function(e){1===e.data.code&&(17===Number(a.list[t].id)&&o["default"].prototype.api.post("message/changeReadStatus",{msgId:17,fileId:17,recordId:17}).then((function(e){1===e.data.code&&n("setUnread",{msgType:t,unread:0,msgTime:new Date})})),n("getMsgs",{type:t,list:e.data.data.msgList}))})):a.list[t]=Object(c["a"])({},a.list[t],{noUpdate:!1})}}},r=n("c1df"),d=n.n(r),u={state:{currentTime:0},getters:{currentDate:function(e){return d()(e.currentTime).format("MM月DD日  HH:mm  dddd")},recordStartTime:function(e){return d()(e.currentTime).set({hours:0,minutes:0,seconds:0})},recordEndTime:function(e){return d()(e.currentTime).set({hours:0,minutes:0,seconds:0}).add(1,"days")}},mutations:{updateTime:function(e,t){e.currentTime=t}}},l={admId:"",age:"",allergyInfo:"",attentionList:[],bedCode:"",bedName:"",chargeDoctor:"",chargeDoctorCode:"",chargeNurse:"",chargeNurseCode:"",clinicCardValue:"",conditionCode:"",depositAmount:"",diagnosis:"",dietNursing:"",hasDanger:"",healthInsurance:"",id:0,inHospitalId:"",inTime:"",money:"",mrn:"",nursingLevel:"",operationName:null,operationTime:null,patientBirthday:"",patientCode:"",patientId:"",patientName:"",sex:0,totalMoney:"",weight:""};o["default"].use(a["a"]);t["a"]=new a["a"].Store({state:{bindBed:"",patientInfo:l,userInputAmount:0,userOutputAmount:0,volumeConfig:[],outConfig:[],checkInConfig:{},currentUser:{}},mutations:{bindBed:function(e,t){e.bindBed=t},getPatientInfo:function(e,t){e.patientInfo=t||l},getOutConfig:function(e,t){e.outConfig=t},getVolumeConfig:function(e,t){e.volumeConfig=t},minLeft:function(e,t){e.checkMinLeft=t},getCheckInConfig:function(e,t){e.checkInConfig=t},getUserInputOutput:function(e,t){e.userInputAmount=t.inputStats,e.userOutputAmount=t.outputStats},login:function(e,t){e.currentUser={name:t.name,code:t.workcode,type:t.identity}}},modules:{message:s,time:u}})},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("d81d"),n("d3b7"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("5530"),o=n("15fd"),i=n("2b0e"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("keep-alive",{attrs:{max:1,exclude:"report-detail,check-detail,education-page"}},[a("router-view")],1),e.showConfigDialog?a("div",{staticClass:"config-dialog",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"config-title"},[e._v("系统设置")]),e._e(),e._e(),a("div",{staticClass:"config-row",on:{click:e.goBeds}},[a("span",[e._v("床位配置")]),a("span",[e._v(e._s(e.$store.state.patientInfo.bedName||e.$store.state.bindBed))]),a("img",{staticStyle:{position:"absolute",top:"32px",right:"30px"},attrs:{src:n("69f5")}})]),a("div",{staticClass:"config-row",on:{click:e.checkUpdate}},[a("span",[e._v("软件版本")]),a("span",[e._v(e._s(e.configInfo.version))]),a("img",{staticStyle:{position:"absolute",top:"32px",right:"30px"},attrs:{src:n("69f5")}})]),a("div",{staticClass:"config-row"},[a("span",[e._v("设备编码")]),a("span",[e._v(e._s(e.configInfo.mac))])]),a("div",{staticClass:"config-row",on:{click:e.exitApp}},[a("span",[e._v("退出应用")])])]):e._e(),e.showConfirmCancel?a("div",{staticClass:"dialog-body"},[a("div",{staticClass:"dialog-title"},[e._v("提示")]),a("span",{staticClass:"dialog-row"},[e._v("是否取消本次支付？")]),a("div",[a("span",{staticClass:"dialog-btn",on:{click:function(t){return t.stopPropagation(),e.handleCancelOrder(t)}}},[e._v("确认")]),a("span",{staticClass:"dialog-btn cancel",on:{click:function(t){t.stopPropagation(),e.showConfirmCancel=!1}}},[e._v("按错了")])])]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPayDialog,expression:"showPayDialog"}],staticStyle:{"box-shadow":"2px 2px 8px rgba(0,0,0,0.2)",padding:"40px",position:"fixed",transform:"translate(-50%,-50%)",left:"50%",top:"50%",width:"500px",height:"auto","background-color":"white",color:"#90909b","border-radius":"30px"},on:{click:function(e){e.stopPropagation()}}},[a("div",{staticStyle:{"font-size":"28px","line-height":"40px","margin-bottom":"30px"}},[a("span",{staticStyle:{width:"180px",display:"inline-block"}},[e._v("患者名：")]),a("span",[e._v(e._s(e.payInfo.patientName))])]),a("div",{staticStyle:{"font-size":"28px","line-height":"40px","margin-bottom":"30px"}},[a("span",{staticStyle:{width:"180px",display:"inline-block"}},[e._v("住院号：")]),a("span",[e._v(e._s(e.payInfo.inHospitalId))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.qrCodeLoading,expression:"qrCodeLoading"}],staticStyle:{height:"258px",position:"relative"},attrs:{"loading-text":"正在生成二维码..."}},[e.showCode?a("div",{staticStyle:{height:"228px","margin-bottom":"30px","text-align":"center"}},[a("div",{ref:"qrcode",staticClass:"qrcode",on:{click:e.handleConfirmPay}}),a("p",{staticStyle:{margin:"0"}},[e._v(e._s(e.tipMessage))])]):a("div",[a("div",{staticStyle:{"font-size":"28px","line-height":"40px",height:"150px","margin-bottom":"30px"}},[a("span",{staticStyle:{width:"180px",display:"inline-block"}},[e._v("缴费金额：")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.payAmount,expression:"payAmount",modifiers:{number:!0}}],staticStyle:{height:"40px",padding:"0 20px",margin:"0 20px 0 0",border:"none","border-radius":"10px",outline:"none","background-color":"#e3ebfb",width:"160px"},attrs:{type:"number",step:"0.01"},domProps:{value:e.payAmount},on:{input:function(t){t.target.composing||(e.payAmount=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v("元 "),a("div",{staticStyle:{"font-size":"28px",height:"60px","margin-top":"30px",display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"fee-btn",on:{click:function(t){t.stopPropagation(),e.payAmount=e.payAmount+1}}},[e._v("+1")]),a("div",{staticClass:"fee-btn",on:{click:function(t){t.stopPropagation(),e.payAmount=e.payAmount+10}}},[e._v("+10")]),a("div",{staticClass:"fee-btn",on:{click:function(t){t.stopPropagation(),e.payAmount=e.payAmount+100}}},[e._v("+100")]),a("div",{staticClass:"fee-btn",on:{click:function(t){t.stopPropagation(),e.payAmount=e.payAmount+1e3}}},[e._v("+1000")])])]),a("div",{staticClass:"fee-confirm-btn",on:{click:e.handleConfirmPay}},[e._v("确认缴费")])])])]),a("transition",[e.showMessage?a("div",{staticClass:"message"},[e._v(e._s(e.messageContent))]):e._e()])],1)},s=[],r=(n("99af"),n("7db0"),n("c975"),n("45fc"),n("b0c0"),n("a9e3"),n("ac1f"),n("25f0"),n("5319"),n("3835")),d=(n("f4bd"),n("bc3a")),u=n.n(d),l=(n("d298"),n("d044")),p=n.n(l),f=n("fa7d"),h={data:function(){return{showCode:!1,showPayDialog:!1,showMessage:!1,qrCodeLoading:!1,showConfirmCancel:!1,messageContent:"",payAmount:0,tipMessage:"",payInfo:{patientName:"",inHospitalId:""},showConfigDialog:!1,clickTime:""}},computed:{configInfo:function(){return{version:window.plus.getAppVersion()||"未知",mac:"EGP6CA0AF7"}}},created:function(){var e=this;window.app=this,window.plus.registSocketListener(),this.$bus.$on("open-config",(function(){e.showConfigDialog=!0})),this.$bus.$on("check",(function(){e.checkIn(1)})),this.$bus.$on("start-check",(function(){console.log("start-check"),e.$checking=!0})),this.$bus.$on("stop-check",(function(){console.log("stop-check"),e.$checking=!1})),this.$bus.$on("refresh-homedata",(function(){console.log("hahaha"),e.getHomeData()})),this.$bus.$on("pay",(function(){e.api.post("pay/getPatientInfo").then((function(t){if(1===t.data.code){e.payInfo=t.data.data,e.showPayDialog=!0;var n=function t(){e.handleCancelOrder(),document.body.removeEventListener("click",t)};document.body.addEventListener("click",n)}}))}));var t=window.plus.getSpStr("bindBed");console.log("getSpStr bindBed: "+t),t?(this.$store.commit("bindBed",t),this.$router.replace("/")):this.api.post("device/bindcheck").then((function(t){1===t.data.code&&(window.plus.saveSpStr("bindBed",t.data.data.name),e.$store.commit("bindBed",t.data.data.name),t.data.data.name&&e.$router.replace("/"))})),console.log("get server time"),this.api.post("getTime").then((function(t){1===t.data.code&&(console.log("update system time",t.data.data.time),e.$store.commit("updateTime",Number(t.data.data.time)),window.plus.updateSysTime(Number(t.data.data.time)))})).finally((function(){var t=new Date(e.$store.state.time.currentTime);console.log("current system time",t.toString());var n=6e4-(1e3*t.getSeconds()+t.getMilliseconds());console.log(n,"息屏");var a=setTimeout((function(){clearTimeout(a),e.$store.commit("updateTime",e.$store.state.time.currentTime+n),setInterval((function(){if(console.log("update app time",t.getTime()),e.$store.commit("updateTime",e.$store.state.time.currentTime+6e4),e.$store.state.outConfig.some((function(e){return Object(f["c"])(e.startTime,e.endTime)}))){if(["/dialing","/shade"].indexOf(e.$route.path)<0){var n=Math.round((new Date).getTime()/1e3);if(console.log(n,e.clickTime,"小雨"),n-e.clickTime<60)return;e.$router.push("/shade")}}else"/shade"===e.$route.path&&e.$router.go(-1);var a=e.$store.state.volumeConfig.find((function(e){return Object(f["c"])(e.startTime,e.endTime)}));if(console.log("current volume",Number(window.plus.getVolume())!==Number(a.volume)),console.log(Number(window.plus.getVolume()),"默认音量"),a&&Number(window.plus.getVolume())!==Number(a.volume)){var o=new Date,i=o.getHours(),c=o.getMinutes(),s=o.getSeconds();i<10&&(i="0"+i),c<10&&(c="0"+c),s<10&&(s="0"+s);var r=i+":"+c+":"+s;console.log(r,"当前时间"),"08:30:00"==r?window.plus.setVolume(2):("17:00:00"==r||"00:00:00"==r)&&window.plus.setVolume(3),console.log(window.plus.getVolume(),"实时音量")}Object(f["c"])(e.$store.state.checkInConfig.startTime,e.$store.state.checkInConfig.endTime)&&(e.$store.state.checkMinLeft>0?e.$store.commit("minLeft",e.$store.state.checkMinLeft-1):e.$bus.$emit("check"))}),6e4)}),n),o=window.plus.getSpStr("outConfig");o?e.$store.commit("getOutConfig",JSON.parse(o)):e.getOutConfig();var i=window.plus.getSpStr("volumeConfig");i?e.$store.commit("getVolumeConfig",JSON.parse(i)):e.getVolumeConfig();var c=["/","/education","/dialing","/beds","/reportDetail","/checkDetail","/shade"],s=null,r=function(){clearTimeout(s),e.clickTime=Math.round((new Date).getTime()/1e3),console.log(e.clickTime,"当前点击时间"),s=setTimeout((function(){clearTimeout(s),c.indexOf(e.$route.path)<0&&e.$router.replace("/")}),6e4)};document.body.addEventListener("click",r),e.$bus.$on("route-change",r),e.$bus.$emit("refresh-homedata"),setInterval((function(){e.$bus.$emit("refresh-homedata")}),3e5),e.getCheckRule()}))},mounted:function(){var e=this;document.body.addEventListener("click",(function(){e.showConfigDialog=!1})),this.$router.beforeEach((function(t,n,a){"/dialing"===n.path&&(window.app=e),a()}))},methods:{exitApp:function(){window.plus.exitApp()},checkUpdate:function(){window.plus.checkAppVersion()},getHomeData:function(){var e=this;u.a.all([this.api.post("bedside/getInHospitalInfo"),this.api.post("patient/homeMsgList")]).then((function(t){var n=Object(r["a"])(t,2),a=n[0],o=n[1];1===a.data.code?e.$store.commit("getPatientInfo",a.data.data):e.$store.commit("getPatientInfo",null),1===o.data.code?(e.$store.commit("initiateMsg",o.data.data.msgList),"/message"===e.$route.path&&e.$store.state.message.selectedType>0&&e.$store.dispatch("switchType",e.$store.state.message.selectedType)):e.$store.commit("initiateMsg",[])}))},getOutConfig:function(){var e=this;this.api.post("audio/setOut").then((function(t){1===t.data.code&&t.data.data&&(e.$store.commit("getOutConfig",t.data.data.set_time),window.plus.saveSpStr("outConfig",JSON.stringify(t.data.data.set_time)))}))},getVolumeConfig:function(){var e=this;this.api.post("audio/volume").then((function(t){1===t.data.code&&t.data.data&&(e.$store.commit("getVolumeConfig",t.data.data.set_time),console.log(t.data.data.set_time,"数据"),window.plus.saveSpStr("volumeConfig",JSON.stringify(t.data.data.set_time)))}))},makeQrCode:function(e){var t=null;return clearTimeout(this.$timeUpTimer),this.tipMessage="请扫描二维码完成付款",this.showCode&&(t=new p.a(this.$refs.qrcode,{text:e,width:210,height:210,colorDark:"#000000",colorLight:"#ffffff"})),t},goBeds:function(){this.$router.push("/beds"),this.showConfigDialog=!1},handleConfirmPay:function(){var e=this;this.qrCodeLoading=!0,this.api.post("pay/payMoney",{payment:this.payAmount,inHospitalId:this.payInfo.inHospitalId}).then((function(t){1===t.data.code&&"true"===t.data.data.phoneQR.SUCCESS&&(e.qrCodeLoading=!1,e.showCode=!0,e.$nextTick((function(){e.$refs.qrcode.innerHTML="",clearInterval(e.$timer),e.makeQrCode(decodeURIComponent(t.data.data.phoneQR.QRURL));var n=function(){e.showConfirmCancel=!0};document.body.addEventListener("click",n),e.$timer=setInterval((function(){e.api.post("pay/querNcmedPay",{id:t.data.data.id}).then((function(t){1===t.data.code&&(e.handleCancelOrder(),document.body.removeEventListener("click",n),"1"===t.data.data?Object(f["f"])("支付成功！"):"2"===t.data.data&&Object(f["f"])("支付失败！"))}))}),3e3),e.$timeUpTimer=setTimeout((function(){e.tipMessage="该二维码已失效，请点击刷新",clearTimeout(e.$timeUpTimer),clearInterval(e.$timer)}),9e4)})))}))},handleCancelOrder:function(){this.showConfirmCancel=!1,this.qrCodeLoading=!1,this.showCode=!1,this.showPayDialog=!1,this.payAmount=0,clearInterval(this.$timer)},checkIn:function(e){var t=this;this.api.post("clockInRule/receptionAPPClockIn",{type:e,clockInType:1,clockInCertificateName:1===e?this.$store.state.patientInfo.chargeNurse:this.$store.state.currentUser.name,clockInCertificateId:1===e?this.$store.state.patientInfo.chargeNurseCode:this.$store.state.currentUser.code,clockInPlaceId:this.$store.state.patientInfo.bedCode,patientId:this.$store.state.patientInfo.patientId,patientName:this.$store.state.patientInfo.patientName}).then((function(n){1===n.data.code&&(1!==e&&Object(f["f"])("打卡成功！"),t.$bus.$emit("close-check"))})),this.getCheckRule()},getCheckRule:function(){var e=this;this.api.post("clockInRule/getClockInRuleRecord").then((function(t){1===t.data.code&&(e.$store.commit("getCheckInConfig",{startTime:t.data.data.patrolBedStart,endTime:t.data.data.patrolBedEnd}),"一级护理"===e.$store.state.patientInfo.nursingLevel?e.$store.commit("minLeft",Number(t.data.data.gradeOneNursing)):"二级护理"===e.$store.state.patientInfo.nursingLevel&&e.$store.commit("minLeft",Number(t.data.data.gradeTowNursing)))}))},icInfo_callback:function(e){var t=this,n=window.plus.getSpStr(e);n?(console.log(JSON.parse(n)),this.handleCardIdentity(JSON.parse(n)),console.log("刷卡第一步getSpStr(info)数据",n)):this.api.post("rfid/identify",{identifyCode:e}).then((function(n){1===n.data.code&&(window.plus.saveSpStr(e,JSON.stringify(n.data.data)),t.handleCardIdentity(n.data.data),console.log("刷卡第一步",n.data.data))}))},handleCardIdentity:function(e){switch(this.$store.commit("login",e),e.identity){case"1":this.$router.push("/patient");break;case"2":"/nurse"===this.$route.path?this.$checking&&this.checkIn(0):(this.$router.push("/nurse"),this.outPutShow());break;case"3":this.$router.push("/doctor");break;case"4":break}},outPutShow:function(){var e=this;this.api.post("bedside/inputAndOutputStats",{patientId:this.$store.state.patientInfo.patientId,startTime:this.$store.getters.recordStartTime.format("YYYY-MM-DD hh:mm:ss"),endTime:this.$store.getters.recordEndTime.format("YYYY-MM-DD hh:mm:ss")}).then((function(t){1===t.data.code?(e.$store.commit("getUserInputOutput",t.data.data),console.log("刷卡第二步",t.data.data)):e.$store.commit("getUserInputOutput",{inputStats:0,outputStats:0})}))},onSocketMessage:function(e){var t=this,n=JSON.parse(e);switch(console.log(n),n.code){case"CALL":console.log("呼叫第一步",n.data),this.$router.push("/dialing?isCalled=1&channelId=".concat(n.data.channelId,"&callerCode=").concat(n.data.callerCode));break;case"APIPULL":"2"===n.data.apiType?(Object(f["e"])("/sound/message.mp3"),this.$store.dispatch("recieveNewMsg",n.data.msgTypeId)):"3"===n.data.apiType&&(this.getOutConfig(),this.getVolumeConfig());break;case"NOTICE":this.$broadcastAudio&&this.$broadcastAudio.stop(),Object(f["e"])("/sound/broadcast.mp3"),Object(f["e"])("http://192.90.111.30:8783/resource"+n.data.voiceUrl).then((function(e){t.$broadcastAudio=e}))}},HANDLE_CALL_callback:function(){this.handleCall()},F_GPIO_callback:function(){this.handleCall()},handleCall:function(){this.$router.push("/dialing")}}},m=h,b=(n("034f"),n("2877")),g=Object(b["a"])(m,c,s,!1,null,null,null),k=g.exports,v=n("4360"),y=n("8c4f");i["default"].use(y["a"]);var j=[{path:"/",name:"Home",component:function(){return Promise.all([n.e("chunk-aaab2e9e"),n.e("chunk-2444b5ec")]).then(n.bind(null,"bb51"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-64dbb4d0").then(n.bind(null,"a55b"))}},{path:"/admin",name:"admin",component:function(){return n.e("chunk-644a1642").then(n.bind(null,"3c19"))}},{path:"/beds",name:"beds",component:function(){return n.e("chunk-0f247a4c").then(n.bind(null,"5510"))}},{path:"/nurse",name:"Nurse",component:function(){return Promise.all([n.e("chunk-aaab2e9e"),n.e("chunk-af55db28")]).then(n.bind(null,"1c96"))}},{path:"/doctor",name:"Doctor",component:function(){return n.e("chunk-2324c114").then(n.bind(null,"c0bd"))}},{path:"/advise",name:"Advise",component:function(){return n.e("chunk-f4334176").then(n.bind(null,"508f"))}},{path:"/report",name:"Report",component:function(){return n.e("chunk-5ec70fb6").then(n.bind(null,"3dae"))}},{path:"/sign",name:"Sign",component:function(){return n.e("chunk-40db7d65").then(n.bind(null,"8974"))}},{path:"/record",name:"Record",component:function(){return n.e("chunk-1c0d02c7").then(n.bind(null,"c446"))}},{path:"/infusion",name:"Advise",component:function(){return n.e("chunk-770207a6").then(n.bind(null,"e0b7"))}},{path:"/patient",name:"Patient",component:function(){return n.e("chunk-8eda1342").then(n.bind(null,"5dc4"))}},{path:"/dialing",name:"Dialing",component:function(){return n.e("chunk-0e3dee9c").then(n.bind(null,"6748"))}},{path:"/reports",name:"PatientReport",component:function(){return n.e("chunk-721a968c").then(n.bind(null,"95bb"))}},{path:"/message",name:"Message",component:function(){return n.e("chunk-1ff9a19a").then(n.bind(null,"b1c7"))}},{path:"/fee",name:"Fee",component:function(){return n.e("chunk-4e5dba8a").then(n.bind(null,"94062"))}},{path:"/payment",name:"Payment",component:function(){return n.e("chunk-2e0d11b2").then(n.bind(null,"d0aa"))}},{path:"/shade",name:"Shade",component:function(){return n.e("chunk-656217f7").then(n.bind(null,"902a"))}},{path:"/reportDetail",name:"ReportDetail",component:function(){return n.e("chunk-2a88e9ab").then(n.bind(null,"f3bf"))}},{path:"/checkDetail",name:"CheckDetail",component:function(){return n.e("chunk-b57fce22").then(n.bind(null,"a56a"))}},{path:"/education",name:"Education",component:function(){return n.e("chunk-652a23e4").then(n.bind(null,"1c45"))}},{path:"/intake",name:"Intake",component:function(){return n.e("chunk-c40900bc").then(n.bind(null,"ccd9"))}}],w=new y["a"]({routes:j}),C=w,I=n("7212"),A=n.n(I),T=n("c1df"),O=n.n(T),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loading-container",style:{backgroundColor:e.backgroundColor}},[a("div",{staticClass:"loading-spin"},[a("img",{staticClass:"rotate",staticStyle:{width:"60px",height:"60px"},attrs:{src:n("0c50")}}),a("p",{staticStyle:{margin:"10px 0 0 0"}},[e._v(e._s(e.text))])])])},x=[],N={data:function(){return{text:null,show:!1,backgroundColor:""}}},M=N,D=(n("3b58"),Object(b["a"])(M,S,x,!1,null,"7ef84195",null)),$=D.exports,L=i["default"].extend($),R={install:function(e){e.directive("loading",{inserted:function(e,t){var n=e.getAttribute("loading-text")||"正在加载...",a=e.getAttribute("loading-bgColor")||"white",o=document.createElement("div");o.style.position="relative",e.appendChild(o),e.loading=new L({data:{text:n,show:t.value,backgroundColor:a}}).$mount(o)},update:function(e,t){e.loading.show=t.value}})}},P=n("3a34"),z=n.n(P);i["default"].config.productionTip=!1;var Z=new z.a;console.log(Z),i["default"].use(A.a),i["default"].use(R),i["default"].prototype.api=u.a.create({baseURL:"http://192.90.111.30:8785/api"}),i["default"].prototype.call=u.a.create({baseURL:"http://192.90.111.30:8787/accurateCall"}),i["default"].prototype.$bus=new i["default"],i["default"].prototype.api.interceptors.request.use((function(e){var t=e.data,n=Object(o["a"])(e,["data"]);return t instanceof Array?Object(a["a"])({},n,{data:t.map((function(e){return Object(a["a"])({},e,{deviceCode:window.plus.getMac()})}))}):Object(a["a"])({},n,{data:Object(a["a"])({},t,{deviceCode:window.plus.getMac()})})}),(function(e){return Promise.reject(e)})),i["default"].prototype.call.interceptors.request.use((function(e){var t=e.data,n=Object(o["a"])(e,["data"]);return t instanceof Array?Object(a["a"])({},n,{data:t.map((function(e){return Object(a["a"])({},e,{deviceCode:window.plus.getMac()})}))}):Object(a["a"])({},n,{data:Object(a["a"])({},t,{deviceCode:window.plus.getMac()})})}),(function(e){return Promise.reject(e)})),O.a.locale("zh-cn"),C.beforeEach((function(e,t,n){console.log("'"+t.path+"'→'"+e.path+"' ",v["a"].state.bindBed),i["default"].prototype.$bus.$emit("route-change"),"/beds"===e.path||v["a"].state.bindBed?n():n("/beds")})),new i["default"]({router:C,store:v["a"],render:function(e){return e(k)}}).$mount("#app")},"69f5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGvGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA3LTA5VDE0OjA1OjQ3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0xMC0xNlQxMzo1MDozNiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0xMC0xNlQxMzo1MDozNiswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNjUxZDZkYy0yZDIzLTc4NDEtOGJlYy0xYjgxODkwZTQwMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MWY2YTkwN2QtOTY1ZC1hNzQ2LTkxZGQtODBmODc2NWY3Y2FmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MWY2YTkwN2QtOTY1ZC1hNzQ2LTkxZGQtODBmODc2NWY3Y2FmIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZjZhOTA3ZC05NjVkLWE3NDYtOTFkZC04MGY4NzY1ZjdjYWYiIHN0RXZ0OndoZW49IjIwMTktMDctMDlUMTQ6MDU6NDcrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NTg0NGRkZTItMDA0Ni1mMzQ5LWI1YmMtY2Q0YmQxMjUyYjlkIiBzdEV2dDp3aGVuPSIyMDE5LTA4LTEzVDE5OjAxOjE5KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQ2NTFkNmRjLTJkMjMtNzg0MS04YmVjLTFiODE4OTBlNDAyMiIgc3RFdnQ6d2hlbj0iMjAxOS0xMC0xNlQxMzo1MDozNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtzQRYAAAADnSURBVFiF7dfBDYJAEIXhH2MBlmAJlkAJlgAVLFZitoKNHdiBJUgrVoAHOBgTs2H2TeSw70RIIF8mO8PQTNPElrL7N+A7FZRLBeVSQbns1z4QYzoBV2AMob+oQZYKnYEWGGJMSarBBroDr+W6U6NWg0LoR+YKuaBMh9oTZe4yL1RR23ugiueQGiUZjEqUbFL/QA1/A32kaAVtVCvs8kl5AIfl1i2Evlv7HkmFVBgJSIkpBqkxRSAPjBnkhQFDl8WYjsDTAwO2CnVeGDCssMwLWsu8wg5KDAgHoyqb++uooFwqKJcKyuUNtBFs7V1j2REAAAAASUVORK5CYII="},"85ec":function(e,t,n){},d298:function(e,t,n){},efe0:function(e,t,n){},fa7d:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b}));n("fb6a"),n("d3b7"),n("ac1f"),n("1276");var a=n("3835"),o=n("2b0e"),i=n("bc3a"),c=n.n(i),s=n("c1df"),r=n.n(s),d=n("4360"),u=new AudioContext;function l(e,t){var n=document.createElement("div");n.innerText=e,n.style.width="800px",n.style.position="fixed",n.style.borderRadius="30px",n.style.top="40%",n.style.left="50%",n.style.marginLeft="-400px",n.style.padding="30px",n.style.backgroundColor="black",n.style.color="white",n.style.opacity=0,n.style.fontSize="32px",n.style.textAlign="center",n.style.lineHeight="60px",n.style.wordBreak="break-word",n.style.zIndex=1008,n.style.transition="opacity 0.5s ease",document.body.appendChild(n);var a=setTimeout((function(){clearTimeout(a),n.style.opacity=.6;var e=setTimeout((function(){clearTimeout(e),n.style.opacity=0;var a=setTimeout((function(){clearTimeout(a),document.body.removeChild(n),t&&t()}),1e3)}),1e3)}),200)}function p(e){return o["default"].prototype.call.post("getChannel",{deviceCode:e}).then((function(e){if(1===e.data.code)return e.data.data.channelId;throw new Error(e.msg)}),(function(){throw new Error("网络异常，请检查您的网络。")}))}function f(e,t){return o["default"].prototype.call.post("bedCall",{deviceCode:e,channelId:t}).then((function(e){if(1===e.data.code)return window.plus.voice_toggleSpeaker(!0),{deviceCode:window.plus.getMac(),channelId:t};throw window.plus.voice_end(),new Error(e.msg)}),(function(){throw window.plus.voice_end(),new Error("网络异常，请检查您的网络。")}))}function h(e,t){return c.a.get(e,{responseType:"arraybuffer"}).then((function(e){return e.data})).then((function(e){return new Promise((function(n,a){u.decodeAudioData(e,(function(e){var a=u.createBufferSource();a.buffer=e,a.connect(u.destination),a.loopStart=5,a.loop=t,a.start(),n({stop:function(){console.log("stop playing"),a.stop(),a.disconnect()}})}),(function(e){a(e)}))}))}))}function m(e,t){for(var n=e||[],a=[],o=0;o<n.length;o+=t)a.push(n.slice(o,o+t));return a}function b(e,t){var n=d["a"].state.time.currentTime;if(console.log(n),e&&t){var o=e.split(":"),i=Object(a["a"])(o,3),c=i[0],s=i[1],u=i[2],l=t.split(":"),p=Object(a["a"])(l,3),f=p[0],h=p[1],m=p[2],b=r()(n).set({hour:c,minute:s,second:u}),g=r()(n).set({hour:f,minute:h,second:m});return b.isBefore(g)||(g=g.add(1,"day")),r()(n).isBetween(b,g)}return!1}}});
//# sourceMappingURL=app.1a623ff7.js.map